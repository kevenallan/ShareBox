<div class="add-arquivo">
    <input
        id="fileInput"
        class="none"
        placeholder="none"
        type="file"
        (change)="onFileSelected($event)"
        multiple
    />
    <p-button
        icon="pi pi-plus"
        [rounded]="true"
        [text]="true"
        [raised]="true"
        (click)="clickUploadFile()"
    />
</div>

<div class="card">
    <p-menubar [model]="items">
        <ng-template pTemplate="start">
            <div class="div-icon-box">
                <i class="pi pi-spin pi-box icon-box"></i> ShareBox
            </div>
        </ng-template>
        <ng-template pTemplate="end">
            <div class="flex align-items-center gap-2">
                <p-avatar
                    (click)="op.toggle($event)"
                    styleClass="cursor-pointer"
                    label="U"
                    shape="circle"
                >
                </p-avatar>

                <p-overlayPanel #op>
                    <p-button
                        (onClick)="sair()"
                        icon="pi pi-download"
                        [rounded]="true"
                        [text]="true"
                        [raised]="true"
                    />
                    <p-button
                        (onClick)="sair()"
                        icon="pi pi-upload"
                        [rounded]="true"
                        [text]="true"
                        [raised]="true"
                    />
                    <p-button
                        (onClick)="sair()"
                        icon="pi pi-pen-to-square"
                        [rounded]="true"
                        [text]="true"
                        [raised]="true"
                        [disabled]="true"
                    />
                </p-overlayPanel>
            </div>
        </ng-template>
    </p-menubar>
</div>

<div style="display: flex; justify-content: center;">
    <div class="card"  style=" width: 80%;">
        <p-card>
            <p-table
                [value]="arquivoList"
                [tableStyle]="{ 'min-width': '50rem' }"
                styleClass="p-datatable-sm"
                responsiveLayout="stack"
            >
                <ng-template pTemplate="header">
                    <tr>
                        <th>Arquivo</th>
                        <th>Nome</th>
                        <th>Tipo</th>
                        <th>Data Upload</th>
                        <th>Ações</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-arquivo>
                    <tr>
                        <td>
                            <img
                                [src]="preview(arquivo)"
                                width="50"
                                [alt]="arquivo.nome"
                                class="shadow-4"
                                title="arquivo"
                            />
                        </td>
                        <td>{{ arquivo.nome }}</td>
                        <td>{{ arquivo.extensao }}</td>
                        <td>{{ arquivo.dataCriacao }}</td>
                        <td>
                            <div class="flex align-items-center gap-2">
                                <!-- <p-avatar
                                (click)="op.toggle($event)"
                                styleClass="cursor-pointer"
                                label="U"
                                shape="circle"
                            >
                            </p-avatar> -->
                                <p-button
                                    (click)="op.toggle($event)"
                                    icon="pi pi-cog"
                                    [rounded]="true"
                                    [text]="true"
                                    [raised]="true"
                                />

                                <p-overlayPanel #op>
                                    <p-button
                                        (onClick)="downloadFile(arquivo.nome)"
                                        icon="pi pi-download"
                                        [rounded]="true"
                                        [text]="true"
                                        [raised]="true"
                                    />
                                    <p-button
                                        (onClick)="sair()"
                                        icon="pi pi-upload"
                                        [rounded]="true"
                                        [text]="true"
                                        [raised]="true"
                                    />
                                    <p-button
                                        (onClick)="sair()"
                                        icon="pi pi-pen-to-square"
                                        [rounded]="true"
                                        [text]="true"
                                        [raised]="true"
                                        [disabled]="true"
                                    />
                                </p-overlayPanel>
                            </div>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </p-card>
    </div>
</div>
